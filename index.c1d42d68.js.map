{"mappings":"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","sources":["utils.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-691561f4ae74ea5c.js","main.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/helpers/get-worker-url.js","node_modules/@parcel/runtime-js/lib/runtime-7e13617c9d7dfe63.js"],"sourcesContent":["export function reshaper(rawData) {\r\n  console.log(\r\n    \"%cstart doing heavy conversion and internationalization\",\r\n    \"color: khaki;\"\r\n  );\r\n  console.time(\"conversion\");\r\n\r\n  const { dataNo1, dataNo2 } = rawData;\r\n  const i18n = new Intl.DateTimeFormat(\"de-DE\", {\r\n    dateStyle: \"short\",\r\n    timeStyle: \"medium\",\r\n  });\r\n  const result = dataNo1.map((_, index) => {\r\n    return {\r\n      time: i18n.format(dataNo1[index].x),\r\n      \"line 1\": dataNo1[index].y,\r\n      \"line 2\": dataNo2[index].y,\r\n    };\r\n  });\r\n\r\n  console.timeEnd(\"conversion\");\r\n  return result;\r\n}\r\n\r\nexport function generator() {\r\n  console.log(\"%cstart generating dummy data\", \"color: khaki;\");\r\n  console.time(\"generating data\");\r\n  const numberOfData = Number(document.querySelector(\"#row\").value);\r\n  const startDate = 1656573712206;\r\n  const dataNo1 = [];\r\n  const dataNo2 = [];\r\n  let prev = 100;\r\n  let prev2 = 80;\r\n  for (let i = 0; i < numberOfData; i++) {\r\n    prev += 5 - Math.random() * 10;\r\n    prev2 += 5 - Math.random() * 10;\r\n    const time = startDate + 10000 * i;\r\n    dataNo1.push({ x: time, y: prev });\r\n    dataNo2.push({ x: time, y: prev2 });\r\n  }\r\n  console.timeEnd(\"generating data\");\r\n  return { dataNo1, dataNo2 };\r\n}\r\n\r\nexport function counter() {\r\n  const btnAdd = document.querySelector(\"#counter-add\");\r\n  const btnSub = document.querySelector(\"#counter-sub\");\r\n  const counter = document.querySelector(\"#count\");\r\n  btnAdd.addEventListener(\"click\", () => {\r\n    counter.textContent = Number(counter.textContent) + 1;\r\n  });\r\n\r\n  btnSub.addEventListener(\"click\", () => {\r\n    counter.textContent = Number(counter.textContent) - 1;\r\n  });\r\n}\r\n","\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7BsKK\\\":\\\"index.c1d42d68.js\\\",\\\"fq8pM\\\":\\\"web-worker.c1b47c81.js\\\"}\"));","import { generator, counter } from \"./utils\";\r\n\r\nconst form = document.querySelector(\"#test\");\r\n\r\nif (window.Worker) {\r\n  console.log(\"%cYour Browser Supports Web Workers!\", \"color: lightblue;\");\r\n\r\n  const myWorker = new Worker(new URL(\"web-worker.js\", import.meta.url), {\r\n    type: \"module\",\r\n  });\r\n\r\n  console.log(\"%cWeb worker spawned successfully.\", \"color: lightblue;\");\r\n\r\n  form.addEventListener(\"submit\", function (e) {\r\n    e.preventDefault();\r\n    const rawData = generator();\r\n    myWorker.postMessage(rawData);\r\n\r\n    console.log(\"%cMessage posted to worker\", \"color: darkgrey;\");\r\n  });\r\n\r\n  myWorker.addEventListener(\"message\", function (e) {\r\n    console.log(\"%cMessage received from worker\", \"color: darkgrey;\");\r\n    console.log(\"%cexporting into file in main thread...\", \"color: khaki;\");\r\n    console.time(\"exporting to file\");\r\n\r\n    if (e && e.data && e.data.t == \"export\") {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      const data = e.data.v;\r\n      const blob = new Blob([data], { type: \"application/octet-stream\" });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.download = \"sheet.xlsx\";\r\n      a.href = url;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n\r\n      console.timeEnd(\"exporting to file\");\r\n    }\r\n  });\r\n} else {\r\n  console.log(\"%cYour browser doesn't support web workers.\", \"color: red;\");\r\n}\r\n\r\ncounter();\r\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","\"use strict\";\n\nmodule.exports = function (workerUrl, origin, isESM) {\n  if (origin === self.location.origin) {\n    // If the worker bundle's url is on the same origin as the document,\n    // use the worker bundle's own url.\n    return workerUrl;\n  } else {\n    // Otherwise, create a blob URL which loads the worker bundle with `importScripts`.\n    var source = isESM ? 'import ' + JSON.stringify(workerUrl) + ';' : 'importScripts(' + JSON.stringify(workerUrl) + ');';\n    return URL.createObjectURL(new Blob([source], {\n      type: 'application/javascript'\n    }));\n  }\n};","let workerURL = require('./helpers/get-worker-url');\nlet bundleURL = require('./helpers/bundle-url');\nlet url = bundleURL.getBundleURL('7BsKK') + require('./helpers/bundle-manifest').resolve(\"fq8pM\");module.exports = workerURL(url, bundleURL.getOrigin(url), false);"],"names":["$75b86ad9767323f5$export$2b513308e642d699","console","log","time","numberOfData","Number","document","querySelector","value","dataNo1","dataNo2","prev","prev2","i","Math","random","push","x","y","timeEnd","$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","length","id","resolved","Error","parcelRequire","register","JSON","parse","$93b772d14b13910f$var$form","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$export$5a759dc7a1cfb72a","$902f5cabe5153acc$exports","workerUrl","origin","isESM","self","location","source","stringify","URL","createObjectURL","Blob","type","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","$c8b02be3043c084b$var$url","resolve","$c8b02be3043c084b$exports","window","Worker","myWorker","addEventListener","e","preventDefault","rawData","postMessage","data","t","stopPropagation","v","blob","a","createElement","download","href","body","appendChild","click","btnAdd","btnSub","counter1","textContent"],"version":3,"file":"index.c1d42d68.js.map"}